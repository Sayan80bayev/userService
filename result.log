?   	userService/cmd/server	[no test files]
?   	userService/docs	[no test files]
?   	userService/internal/bootstrap	[no test files]
?   	userService/internal/config	[no test files]
?   	userService/internal/delivery	[no test files]
?   	userService/internal/events	[no test files]
?   	userService/internal/mappers	[no test files]
?   	userService/internal/model	[no test files]
?   	userService/internal/repository	[no test files]
?   	userService/internal/routes	[no test files]
=== RUN   TestUserService_UpdateUser
=== RUN   TestUserService_UpdateUser/successful_update_with_cache_invalidation
=== RUN   TestUserService_UpdateUser/error_uploading_file
--- PASS: TestUserService_UpdateUser (0.00s)
    --- PASS: TestUserService_UpdateUser/successful_update_with_cache_invalidation (0.00s)
    --- PASS: TestUserService_UpdateUser/error_uploading_file (0.00s)
=== RUN   TestUserService_DeleteUserById
--- PASS: TestUserService_DeleteUserById (0.00s)
=== RUN   TestUserService_GetUserById
[33mWARNING[0m cache get failed for user e3cc67bc-bf45-478b-bf0e-8d7820086132: cache miss 2025-08-30 21:22:54
--- PASS: TestUserService_GetUserById (0.00s)
=== RUN   TestUserService_GetAllUsers
--- PASS: TestUserService_GetAllUsers (0.00s)
PASS
ok  	userService/internal/service	1.804s
?   	userService/internal/transfer/request	[no test files]
?   	userService/internal/transfer/response	[no test files]
2025/08/30 21:21:28 github.com/testcontainers/testcontainers-go - Connected to docker: 
  Server Version: 28.3.0
  API Version: 1.50
  Operating System: Docker Desktop
  Total Memory: 3919 MB
  Labels:
    com.docker.desktop.address=unix:///Users/sayanseksenbaev/Library/Containers/com.docker.docker/Data/docker-cli.sock
  Testcontainers for Go Version: v0.38.0
  Resolved Docker Host: unix:///var/run/docker.sock
  Resolved Docker Socket Path: /var/run/docker.sock
  Test SessionID: eda7d5fac17f662beb15cc2e2e23a21e12466b95ee8a8e16a76e132787ced42a
  Test ProcessID: ba9dd7cd-9575-4c09-8878-74156625ff11
2025/08/30 21:21:28 ğŸ³ Creating container for image testcontainers/ryuk:0.12.0
2025/08/30 21:21:28 âœ… Container created: a7433a424670
2025/08/30 21:21:28 ğŸ³ Starting container: a7433a424670
2025/08/30 21:21:28 âœ… Container started: a7433a424670
2025/08/30 21:21:28 â³ Waiting for container id a7433a424670 image: testcontainers/ryuk:0.12.0. Waiting for: &{Port:8080/tcp timeout:<nil> PollInterval:100ms skipInternalCheck:false skipExternalCheck:false}
2025/08/30 21:21:28 ğŸ”” Container is ready: a7433a424670
2025/08/30 21:21:28 ğŸ³ Creating container for image mongo:6.0
2025/08/30 21:21:28 âœ… Container created: 0180bde2538f
2025/08/30 21:21:28 ğŸ³ Starting container: 0180bde2538f
2025/08/30 21:21:28 âœ… Container started: 0180bde2538f
2025/08/30 21:21:28 â³ Waiting for container id 0180bde2538f image: mongo:6.0. Waiting for: &{Port:27017/tcp timeout:<nil> PollInterval:100ms skipInternalCheck:false skipExternalCheck:false}
2025/08/30 21:21:29 ğŸ”” Container is ready: 0180bde2538f
2025/08/30 21:21:29 ğŸ³ Creating container for image redis:7.0
2025/08/30 21:21:29 âœ… Container created: 7844b257a804
2025/08/30 21:21:29 ğŸ³ Starting container: 7844b257a804
2025/08/30 21:21:29 âœ… Container started: 7844b257a804
2025/08/30 21:21:29 â³ Waiting for container id 7844b257a804 image: redis:7.0. Waiting for: &{Port:6379/tcp timeout:<nil> PollInterval:100ms skipInternalCheck:false skipExternalCheck:false}
2025/08/30 21:21:29 ğŸ”” Container is ready: 7844b257a804
2025/08/30 21:21:29 ğŸ³ Creating container for image minio/minio:RELEASE.2025-04-22T22-12-26Z
2025/08/30 21:21:29 âœ… Container created: 41c76c3f71e2
2025/08/30 21:21:29 ğŸ³ Starting container: 41c76c3f71e2
2025/08/30 21:21:29 âœ… Container started: 41c76c3f71e2
2025/08/30 21:21:29 â³ Waiting for container id 41c76c3f71e2 image: minio/minio:RELEASE.2025-04-22T22-12-26Z. Waiting for: &{timeout:<nil> Log:API: http:// IsRegexp:false Occurrence:1 PollInterval:100ms check:<nil> submatchCallback:<nil> re:<nil> log:[]}
2025/08/30 21:21:30 ğŸ”” Container is ready: 41c76c3f71e2
2025/08/30 21:21:30 ğŸ³ Creating container for image bitnami/kafka:3.6.1
2025/08/30 21:21:30 âœ… Container created: 8d920088f60c
2025/08/30 21:21:30 ğŸ³ Starting container: 8d920088f60c
2025/08/30 21:21:30 âœ… Container started: 8d920088f60c
2025/08/30 21:21:30 â³ Waiting for container id 8d920088f60c image: bitnami/kafka:3.6.1. Waiting for: &{Port:9092/tcp timeout:0x140002be3d0 PollInterval:100ms skipInternalCheck:false skipExternalCheck:false}
2025/08/30 21:21:33 ğŸ”” Container is ready: 8d920088f60c
[32mINFO[0m Connected to MongoDB 2025-08-30 21:21:34
[32mINFO[0m âœ… Connected to Redis at localhost:65335 (DB=0) 2025-08-30 21:21:34
[32mINFO[0m Redis connected 2025-08-30 21:21:34
[32mINFO[0m âœ… Successfully connected to MinIO 2025-08-30 21:21:34
[32mINFO[0m Minio connected: bucket=test-bucket host=localhost 2025-08-30 21:21:34
[32mINFO[0m Kafka producer initialized for topic: user-events 2025-08-30 21:21:34
[32mINFO[0m Kafka consumer initialized 2025-08-30 21:21:34
=== RUN   TestUserLifecycle
Waiting briefly for consumer to pick up event
--- PASS: TestUserLifecycle (5.04s)
=== RUN   TestUserLifecycle_NeedsCompletion
--- PASS: TestUserLifecycle_NeedsCompletion (0.21s)
PASS
2025/08/30 21:21:40 ğŸ³ Stopping container: 0180bde2538f
2025/08/30 21:21:40 âœ… Container stopped: 0180bde2538f
2025/08/30 21:21:40 ğŸ³ Terminating container: 0180bde2538f
2025/08/30 21:21:40 ğŸš« Container terminated: 0180bde2538f
2025/08/30 21:21:40 ğŸ³ Stopping container: 7844b257a804
2025/08/30 21:21:40 âœ… Container stopped: 7844b257a804
2025/08/30 21:21:40 ğŸ³ Terminating container: 7844b257a804
2025/08/30 21:21:40 ğŸš« Container terminated: 7844b257a804
2025/08/30 21:21:40 ğŸ³ Stopping container: 41c76c3f71e2
2025/08/30 21:21:41 âœ… Container stopped: 41c76c3f71e2
2025/08/30 21:21:41 ğŸ³ Terminating container: 41c76c3f71e2
2025/08/30 21:21:41 ğŸš« Container terminated: 41c76c3f71e2
2025/08/30 21:21:41 ğŸ³ Stopping container: 8d920088f60c
%6|1756570901.293|FAIL|rdkafka#producer-1| [thrd:localhost:9092/bootstrap]: localhost:9092/1: Disconnected (after 6350ms in state UP)
%3|1756570901.937|FAIL|rdkafka#producer-1| [thrd:localhost:9092/bootstrap]: localhost:9092/1: Connect to ipv6#[::1]:9092 failed: Connection refused (after 1ms in state CONNECT)
2025/08/30 21:21:42 âœ… Container stopped: 8d920088f60c
2025/08/30 21:21:42 ğŸ³ Terminating container: 8d920088f60c
2025/08/30 21:21:42 ğŸš« Container terminated: 8d920088f60c
ok  	userService/tests/integration	(cached)
?   	userService/tests/testutil	[no test files]
